<div class="container">
  <h4>Cadastrar novo Cliente</h4>



  <form [formGroup]="novoCliente" novalidate>

    <!-- Verifica se é PF ou PJ -->
    <div class="form-check">
      <input class="form-check-input" type="radio" name="tipo_cadastro" id="pessoaFisica" value="pf" formControlName="tipo_cadastro">
      <label class="form-check-label" for="pessoaFisica">
        Pessoa Física
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="tipo_cadastro" id="pessoaJuridica" value="pj" formControlName="tipo_cadastro">
      <label class="form-check-label" for="pessoaJuridica">
        Pessoa Juridica
      </label>
    </div>

    <!--DadosPessoais-->

    <!--Se For Pessoa Física-->
    <div *ngIf="novoCliente.value.tipo_cadastro === 'pf'">
      <div class="area-form">
        <h6>Dados Pessoais:</h6>
        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label for="nome_razao_social" class="form-label">Nome Completo</label>
              <input type="text" class="form-control help-block with-errors" id="nome_razao_social" formControlName="nome_razao_social">
              <span class="text-danger"
                    *ngIf="novoCliente.get('nome_razao_social')?.errors?.['required'] && novoCliente.get('nome_razao_social')?.touched">
                O Campo nome é obrigatório
              </span>
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="mail" class="form-label">E-mail</label>
              <input type="email" class="form-control" id="mail" formControlName="mail" >
              <span class="text-danger"
                    *ngIf="novoCliente.get('mail')?.errors?.['required'] && novoCliente.get('mail')?.touched">
                O Campo email é obrigatório
              </span>
              <span class="text-danger"
                    *ngIf="novoCliente.get('mail')?.errors?.['email'] && novoCliente.get('mail')?.touched">
                O valor informado deve ser um email valido
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label for="cpf_cnpj" class="form-label">CPF</label>
              <input type="number" class="form-control" id="cpf_cnpj" formControlName="cpf_cnpj">
              <span class="text-danger"
                    *ngIf="novoCliente.get('cpf_cnpj')?.errors?.['required'] && novoCliente.get('cpf_cnpj')?.touched">
                O Campo CPF é obrigatório
              </span>
            </div>
          </div>
          <div class="col">
            <label for="rg_ie" class="form-label">RG</label>
            <div class="input-group">
              <input type="text" class="form-control" id="rg_ie" formControlName="rg_ie">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label for="telefone" class="form-label">Telefone</label>
              <div class="input-group">
                <input type="number" class="form-control" id="telefone" formControlName="telefone">
              </div>
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="celular" class="form-label">Celular</label>
              <input type="number" class="form-control" id="celular" formControlName="celular">
              <span class="text-danger"
                    *ngIf="novoCliente.get('celular')?.errors?.['required'] && novoCliente.get('celular')?.touched">
                O Campo celular é obrigatório
              </span>
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="celular2" class="form-label">Celular 2</label>
              <div class="input-group">
                <input type="number" class="form-control" id="celular2" formControlName="celular2">
              </div></div>
          </div>
        </div>
      </div>



    </div>

    <!--Se For Pessoa Juridica-->

    <div *ngIf="novoCliente.value.tipo_cadastro === 'pj'">
      <div class="area-form">
        <h6>Dados Pessoais:</h6>
        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label for="nome_razao_social" class="form-label">Razão Social</label>
              <input type="text" class="form-control" id="nome_razao_social" formControlName="nome_razao_social">
              <span class="text-danger"
                    *ngIf="novoCliente.get('nome_razao_social')?.errors?.['required'] && novoCliente.get('nome_razao_social')?.touched">
                O Campo razão social é obrigatório
              </span>
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="mail" class="form-label">E-mail</label>
              <input type="email" class="form-control" id="mail" formControlName="mail" >
              <span class="text-danger"
                    *ngIf="novoCliente.get('mail')?.errors?.['required'] && novoCliente.get('mail')?.touched">
                O Campo email é obrigatório
              </span>
              <span class="text-danger"
                    *ngIf="novoCliente.get('mail')?.errors?.['email'] && novoCliente.get('mail')?.touched">
                O valor informado deve ser um email valido
              </span>
            </div>

          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label for="cpf_cnpj" class="form-label">CNPJ</label>

              <input type="number" class="form-control" id="cpf_cnpj" formControlName="cpf_cnpj">
              <span class="text-danger"
                    *ngIf="novoCliente.get('cpf_cnpj')?.errors?.['required'] && novoCliente.get('cpf_cnpj')?.touched">
                O Campo CNPJ é obrigatório
              </span>

            </div>
          </div>
          <div class="col">
            <label for="rg_ie" class="form-label">Inscrição Estadual</label>
            <div class="input-group">
              <input type="text" class="form-control" id="rg_ie" formControlName="rg_ie">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label for="telefone" class="form-label">Telefone</label>
              <div class="input-group">
                <input type="number" class="form-control" id="telefone" formControlName="telefone">
              </div>
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="celular" class="form-label">Celular</label>
              <input type="number" class="form-control" id="celular" formControlName="celular">
              <span class="text-danger"
                    *ngIf="novoCliente.get('celular')?.errors?.['required'] && novoCliente.get('celular')?.touched">
                O Campo celular é obrigatório
              </span>
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="celular2" class="form-label">Celular 2</label>
              <input type="number" class="form-control" id="celular2" formControlName="celular2">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Endereço     -->

    <div class="area-form">
      <h6>Endereço: </h6>
      <div class="row" id="rowCep">
        <div class="col-3" id="colCepInput">
          <div class="mb-3">
            <label for="cep" class="form-label">CEP</label>
            <input type="number" class="form-control" id="cep" formControlName="cep">
            <span class="text-danger"
                  *ngIf="novoCliente.get('cep')?.errors?.['required'] && novoCliente.get('cep')?.touched">
                O Campo cep é obrigatório
              </span>
          </div>
        </div>
        <div class="col-6" id="colCepButton">
          <button class="btn btn-primary" id="buscarCep" style="margin-top: 30px" (click)="buscaCep()"
                  [disabled]="novoCliente.value.cep === null || novoCliente.value.cep === ''">Buscar CEP</button>
        </div>
      </div>
      <div class="row">
        <div class="col-10" id="colLogradouro">
          <div class="mb-3">
            <label for="logradouro" class="form-label">Logradouro</label>

            <input type="text" class="form-control" id="logradouro" formControlName="logradouro">
            <span class="text-danger"
                  *ngIf="novoCliente.get('logradouro')?.errors?.['required'] && novoCliente.get('logradouro')?.touched">
                O Campo logradouro é obrigatório
              </span>
          </div>
        </div>
        <div class="col-2" id="colNumero">
          <div class="mb-3">
            <label for="numero" class="form-label">Numero</label>
            <input type="email" class="form-control" id="numero" formControlName="numero">
            <span class="text-danger"
                  *ngIf="novoCliente.get('numero')?.errors?.['required'] && novoCliente.get('numero')?.touched">
                O Campo numero é obrigatório
              </span>
          </div>
        </div>
        <div class="row">


        </div>

        <div class="row">
          <div class="col">
            <div class="mb-3">
              <label for="complemento" class="form-label">Complemento</label>
              <input type="text" class="form-control" id="complemento" formControlName="complemento">
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="bairro" class="form-label">Bairro</label>
              <input type="text" class="form-control" id="bairro" formControlName="bairro">
              <span class="text-danger"
                    *ngIf="novoCliente.get('bairro')?.errors?.['required'] && novoCliente.get('bairro')?.touched">
                O Campo bairro é obrigatório
              </span>
            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="cidade" class="form-label">Cidade</label>
              <input type="text" class="form-control" id="cidade" formControlName="cidade">
              <span class="text-danger"
                    *ngIf="novoCliente.get('cidade')?.errors?.['required'] && novoCliente.get('cidade')?.touched">
                O Campo cidade é obrigatório
              </span>

            </div>
          </div>
          <div class="col">
            <div class="mb-3">
              <label for="estado" class="form-label">Estado</label>
              <select class="form-select" formControlName="estado"  id="estado">
                <option selected>Selecione um estado</option>
                <option value ="AC">Acre (AC)</option>
                <option value ="AL">Alagoas (AL)</option>
                <option value ="AP">Amapá (AP)</option>
                <option value ="AM">Amazonas (AM)</option>
                <option value ="BA">Bahia (BA)</option>
                <option value ="CE">Ceará (CE)</option>
                <option value ="DF">Distrito Federal (DF)</option>
                <option value ="ES">Espírito Santo (ES)</option>
                <option value ="GO">Goiás (GO)</option>
                <option value ="MA">Maranhão (MA)</option>
                <option value ="MT">Mato Grosso (MT)</option>
                <option value ="MS">Mato Grosso do Sul (MS)</option>
                <option value ="MG">Minas Gerais (MG)</option>
                <option value ="PA">Pará (PA)</option>
                <option value ="PB">Paraíba (PB)</option>
                <option value ="PR">Paraná (PR)</option>
                <option value ="PE">Pernambuco (PE)</option>
                <option value ="PI">Piauí (PI)</option>
                <option value ="RJ">Rio de Janeiro (RJ)</option>
                <option value ="RN">Rio Grande do Norte (RN)</option>
                <option value ="RS">Rio Grande do Sul (RS)</option>
                <option value ="RO">Rondônia (RO)</option>
                <option value ="RR">Roraima (RR)</option>
                <option value ="SC">Santa Catarina (SC)</option>
                <option value ="SP">São Paulo (SP)</option>
                <option value ="SE">Sergipe (SE)</option>
                <option value ="TO">Tocantins (TO)</option>
              </select>
              <span class="text-danger"
                    *ngIf="novoCliente.get('estado')?.errors?.['required'] && novoCliente.get('estado')?.touched">
                O Campo estado é obrigatório
              </span>

            </div>
          </div>
        </div>
      </div>
      <div class="botoes">
        <button class="btn btn-danger" (click)="cancelAddCliente()">Cancelar</button>
        <button class="btn btn-success" [disabled]="!novoCliente.valid"(click)="addCliente()">Salvar</button>
      </div>
    </div>
  </form>
</div>
