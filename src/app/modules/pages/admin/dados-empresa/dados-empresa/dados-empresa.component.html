<div class="container">

  <div class="btnEditar">
    <h1 *ngIf="view">Dados Empresa</h1>
    <h1 *ngIf="edit ">Editar Dados da Empresa</h1>

    <div *ngIf="view">
      <button class="btn btn-primary" (click)="editar()">Editar</button>
    </div>
  </div>

  <form [formGroup]="dadosEmpresa" novalidate>
    <div class="area-form">
      <h6>Dados Empresa:</h6>

      <div class="row">
        <div class="col">
          <div class="mb-3">
            <label for="nome_fantasia" class="form-label">Nome Fantasia</label>
            <input type="text" class="form-control" id="nome_fantasia" formControlName="nome_fantasia">
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('nome_fantasia')?.errors?.['required'] && dadosEmpresa.get('nome_fantasia')?.touched">
                O campo Nome Fantasía é obrigatório
            </span>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="razao_social" class="form-label">Razão Social</label>
            <input type="text" class="form-control" id="razao_social" formControlName="razao_social" >
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('razao_social')?.errors?.['required'] && dadosEmpresa.get('razao_social')?.touched">
                O campo Razão Social é obrigatório
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="mb-3">
            <label for="cnpj" class="form-label">CNPJ</label>
            <input type="text" class="form-control" id="cnpj" formControlName="cnpj" mask="00.000.000/0000-00">
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('cnpj')?.errors?.['required'] && dadosEmpresa.get('cnpj')?.touched">
                O campo CNPJ é obrigatório
            </span>
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('cnpj')?.errors?.['cpfCnpjInvalido'] && dadosEmpresa.get('cnpj')?.touched">
               o CNPJ informado não é valido
            </span>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="inscricao_estadual" class="form-label">Inscrição Estadual</label>
            <input type="text" class="form-control" id="inscricao_estadual" formControlName="inscricao_estadual">
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <div class="mb-3">
            <label for="tel_comercial" class="form-label">Telefone Fixo Comercial</label>
            <div class="input-group">
              <input type="text" class="form-control" id="tel_comercial" formControlName="tel_comercial" mask="(00) 0000-0000">
              <span class="text-danger"
                    *ngIf="dadosEmpresa.get('tel_comercial')?.errors?.['telefoneInvalido'] && dadosEmpresa.get('tel_comercial')?.touched">
                O campo deve conter um numero de telefone fixo valido
              </span>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="cel_comercial" class="form-label">Celular Comercial</label>
            <input type="text" class="form-control" id="cel_comercial" formControlName="cel_comercial" mask="(00) 0000-0000||(00) 00000-0000">
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('cel_comercial')?.errors?.['required'] && dadosEmpresa.get('cel_comercial')?.touched">
                O campo celular é obrigatório
              </span>
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('celularComercial')?.errors?.['telefoneInvalido'] && dadosEmpresa.get('celularComercial')?.touched">
                O campo deve conter um numero de telefone celular valido
              </span>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="cel_comercial2" class="form-label">Celular Comercial 2</label>
            <div class="input-group">
              <input type="text" class="form-control" id="cel_comercial2" formControlName="cel_comercial2" mask="(00) 0000-0000||(00) 00000-0000">
              <span class="text-danger"
                    *ngIf="dadosEmpresa.get('cel_comercial2')?.errors?.['telefoneInvalido'] && dadosEmpresa.get('cel_comercial2')?.touched">
                O campo celular2 deve conter um numero de telefone celular valido
              </span>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="site" class="form-label">Site</label>
            <div class="input-group">
              <input type="text" class="form-control" id="site" formControlName="site">
              <span class="text-danger"
                    *ngIf="dadosEmpresa.get('site')?.errors?.['required'] && dadosEmpresa.get('site')?.touched">
                O campo site é obrigatóriooooo
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="area-form">
      <h6>Dados Adicionais:</h6>

      <div class="row">
        <div class="col">
          <div class="mb-3">
            <label for="representante_legal" class="form-label">Representante Legal</label>
            <input type="text" class="form-control" id="representante_legal" formControlName="representante_legal">
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('representante_legal')?.errors?.['required'] && dadosEmpresa.get('representante_legal')?.touched">
                O campo Representante Legal é obrigatório
            </span>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="cpf_representante" class="form-label">CPF</label>
            <input type="text" class="form-control" id="cpf_representante" formControlName="cpf_representante" mask="000.000.000-00">
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('cpf_representante')?.errors?.['required'] && dadosEmpresa.get('cpf_representante')?.touched">
                O campo CPF é obrigatório
            </span>
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('cpf_representante')?.errors?.['cpfCnpjInvalido'] && dadosEmpresa.get('cpf_representante')?.touched">
               o CPF informado não é valido
            </span>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="rg_representante" class="form-label">RG</label>
            <input type="text" class="form-control" id="rg_representante" formControlName="rg_representante">
          </div>
        </div>
      </div>
    </div>

    <div class="area-form">
      <h6>Endereço: </h6>
      <div class="row" id="rowCep">
        <div class="col-3" id="colCepInput">
          <div class="mb-3">
            <label for="cep" class="form-label">CEP</label>
            <input type="text" class="form-control" id="cep" formControlName="cep" mask="00000-000">
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('cep')?.errors?.['required'] && dadosEmpresa.get('cep')?.touched">
                O campo cep é obrigatório
              </span>
          </div>
        </div>
        <div class="col-6" id="colCepButton">
          <button  *ngIf="edit" class="btn btn-primary" id="buscarCep" style="margin-top: 30px" (click)="buscaCep()"
                   [disabled]="dadosEmpresa.value.cep === null || dadosEmpresa.value.cep === ''">Buscar CEP</button>
        </div>
      </div>
      <div class="row">
        <div class="col-10" id="colLogradouro">
          <div class="mb-3">
            <label for="logradouro" class="form-label">Logradouro</label>

            <input type="text" class="form-control" id="logradouro" formControlName="logradouro">
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('logradouro')?.errors?.['required'] && dadosEmpresa.get('logradouro')?.touched">
                O campo logradouro é obrigatório
              </span>
          </div>
        </div>
        <div class="col-2" id="colNumero">
          <div class="mb-3">
            <label for="numero" class="form-label">Numero</label>
            <input type="email" class="form-control" id="numero" formControlName="numero">
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('numero')?.errors?.['required'] && dadosEmpresa.get('numero')?.touched">
                O campo numero é obrigatório
              </span>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <div class="mb-3">
            <label for="complemento" class="form-label">Complemento</label>
            <input type="text" class="form-control" id="complemento" formControlName="complemento">
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="bairro" class="form-label">Bairro</label>
            <input type="text" class="form-control" id="bairro" formControlName="bairro">
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('bairro')?.errors?.['required'] && dadosEmpresa.get('bairro')?.touched">
                O campo bairro é obrigatório
              </span>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="cidade" class="form-label">Cidade</label>
            <input type="text" class="form-control" id="cidade" formControlName="cidade">
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('cidade')?.errors?.['required'] && dadosEmpresa.get('cidade')?.touched">
                O campo cidade é obrigatório
              </span>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="estado" class="form-label">Estado</label>
            <select class="form-select" formControlName="estado" id="estado">
              <option selected>Selecione um estado</option>
              <option value ="AC">Acre (AC)</option>
              <option value ="AL">Alagoas (AL)</option>
              <option value ="AP">Amapá (AP)</option>
              <option value ="AM">Amazonas (AM)</option>
              <option value ="BA">Bahia (BA)</option>
              <option value ="CE">Ceará (CE)</option>
              <option value ="DF">Distrito Federal (DF)</option>
              <option value ="ES">Espírito Santo (ES)</option>
              <option value ="GO">Goiás (GO)</option>
              <option value ="MA">Maranhão (MA)</option>
              <option value ="MT">Mato Grosso (MT)</option>
              <option value ="MS">Mato Grosso do Sul (MS)</option>
              <option value ="MG">Minas Gerais (MG)</option>
              <option value ="PA">Pará (PA)</option>
              <option value ="PB">Paraíba (PB)</option>
              <option value ="PR">Paraná (PR)</option>
              <option value ="PE">Pernambuco (PE)</option>
              <option value ="PI">Piauí (PI)</option>
              <option value ="RJ">Rio de Janeiro (RJ)</option>
              <option value ="RN">Rio Grande do Norte (RN)</option>
              <option value ="RS">Rio Grande do Sul (RS)</option>
              <option value ="RO">Rondônia (RO)</option>
              <option value ="RR">Roraima (RR)</option>
              <option value ="SC">Santa Catarina (SC)</option>
              <option value ="SP">São Paulo (SP)</option>
              <option value ="SE">Sergipe (SE)</option>
              <option value ="TO">Tocantins (TO)</option>
            </select>
            <span class="text-danger"
                  *ngIf="dadosEmpresa.get('estado')?.errors?.['required'] && dadosEmpresa.get('estado')?.touched">
                O campo estado é obrigatório
              </span>
          </div>
        </div>
        </div>

      <div class="botoes" *ngIf="edit">
        <button class="btn btn-danger" (click)="cancelAdd()">Cancelar</button>
        <button class="btn btn-success" [disabled]="!dadosEmpresa.valid"(click)="add()">Salvar</button>
      </div>

      </div>
  </form>
</div>
